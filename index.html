<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸŒŸ æ¥è‡ªéŸ©è€é­”çš„ç¥ç¦ ğŸŒŸ</title>
    <style>
        body {
            background-color: #050505;
            color: #10ff10; /* æ ‘å¶åŸºç¡€è‰² */
            font-family: "Courier New", Courier, monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between; /* é¡¶éƒ¨åº•éƒ¨å¯¹é½ */
            height: 100vh;
            margin: 0;
            overflow: hidden; /* é˜²æ­¢æ»šåŠ¨æ¡å‡ºç° */
            position: relative;
        }

        #tree-wrapper {
            text-align: center;
            line-height: 1.1; /* æ›´ç´§å‡‘çš„æ ‘ */
            font-size: clamp(10px, 4vw, 18px); /* å“åº”å¼å­—ä½“ */
            font-weight: bold;
            white-space: pre;
            cursor: default;
            user-select: none;
            flex-grow: 1; /* å æ®ä¸­é—´å¤§éƒ¨åˆ†ç©ºé—´ */
            display: flex;
            align-items: center;
            justify-content: center;
            padding-top: 2vh; /* é¡¶éƒ¨ç•™ç™½ */
        }

        .star {
            color: #fff700;
            text-shadow: 0 0 15px #fff700, 0 0 5px orange;
            animation: pulse-star 1.5s infinite alternate; /* æ˜Ÿæ˜Ÿå‘¼å¸æ•ˆæœ */
        }
        @keyframes pulse-star {
            from { text-shadow: 0 0 15px #fff700, 0 0 5px orange; opacity: 1; }
            to { text-shadow: 0 0 8px #fff700, 0 0 2px orange; opacity: 0.8; }
        }

        .light {
            display: inline-block; /* ä¿æŒå­—ç¬¦ä¸è¢«è¡Œé«˜åˆ‡æ–­ */
            transition: all 0.1s ease-out; /* å¹³æ»‘è¿‡æ¸¡é¢œè‰²å˜åŒ– */
        }
        .light.blink { animation: flicker 0.5s infinite alternate; } /* å½©ç¯é—ªçƒ */
        @keyframes flicker {
            0% { opacity: 1; }
            50% { opacity: 0.4; }
            100% { opacity: 1; }
        }
        .light.fade { animation: fade-color 2s infinite alternate; } /* é¢œè‰²æ¸å˜ */
        @keyframes fade-color {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }

        /* ç¥ç¦è¯­åŒºåŸŸæ ·å¼ */
        #message-area {
            text-align: center;
            padding: 15px 20px 25px; /* åº•éƒ¨ç•™æ›´å¤šç™½ */
            color: #ffffff;
            text-shadow: 0 0 10px rgba(255,0,0,0.7), 0 0 5px rgba(255,255,255,0.7);
            font-size: clamp(1rem, 4.5vw, 1.3rem);
            max-width: 90%;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-sizing: border-box;
            line-height: 1.4;
            opacity: 0; /* åˆå§‹éšè— */
            animation: fade-in-up 1.5s ease-out forwards 2s; /* å»¶è¿Ÿæ¸å…¥åŠ¨ç”» */
            position: relative; /* ç¡®ä¿ z-index å·¥ä½œ */
            z-index: 10;
        }
        #message-area p { margin: 5px 0; }
        #greeting { min-height: 1.5em; } /* ç¡®ä¿ç¥ç¦è¯­åŒºåŸŸé«˜åº¦ */
        #signature {
            color: #ccc;
            font-size: clamp(0.8rem, 3.5vw, 1rem);
            margin-top: 10px;
        }

        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* é›ªèŠ±ç‰¹æ•ˆ */
        .snowflake {
            position: absolute;
            color: white;
            font-size: clamp(0.8em, 2vw, 1.5em);
            pointer-events: none; /* ä¸å½±å“ç‚¹å‡» */
            animation: fall linear forwards;
            z-index: 1; /* ç¡®ä¿é›ªèŠ±åœ¨æ ‘å’Œæ–‡å­—ä¹‹é—´ */
        }
        @keyframes fall {
            from { transform: translateY(-10px) translateX(0); opacity: 0.9; }
            to { transform: translateY(105vh) translateX(var(--end-x, 0)); opacity: 0.3; }
        }
    </style>
</head>
<body>

    <div id="tree-wrapper"></div>

    <div id="message-area">
        <p id="greeting"></p>
        <p id="signature">â€”â€” æ¥è‡ªéŸ©è€é­”çš„ç¥ç¦ â€”â€”</p>
    </div>

    <script>
        const treeContainer = document.getElementById('tree-wrapper');
        const greetingDisplay = document.getElementById('greeting');
        
        const wishes = [
            "æ„¿ä½ çš„åœ£è¯å……æ»¡æ¸©é¦¨ä¸å¥‡è¿¹ï¼Œé—ªè€€æ˜Ÿå…‰ï¼",
            "å¹³å®‰å¤œï¼Œæ„¿ä½ ä¸€ç”Ÿå¹³å®‰å–œä¹ï¼Œä¸‡äº‹é¡ºé‚ï¼",
            "æ„¿å¯’å†·çš„å†¬æ—¥é‡Œï¼Œä½ æ€»æœ‰æ¸©æš–ç›¸éšï¼Œå¹¸ç¦å¸¸ä¼´ã€‚",
            "åœ£è¯å¿«ä¹ï¼æ‰€æœ‰çš„å¥½è¿ä¸ç¥ç¦éƒ½å¥”å‘ä½ è€Œæ¥ã€‚",
            "æ„¿ä½ æ˜æœ—å¤§èƒ†ï¼Œæ°¸è¿œçƒ­æ³ªç›ˆçœ¶ï¼Œæ‰€æ±‚çš†å¦‚æ„¿ã€‚",
            "ç¥ä½ æ‹¥æœ‰ä¸€ä¸ªå‘å…‰çš„åœ£è¯èŠ‚ï¼Œå’Œç¾å¥½çš„æ–°ä¸€å¹´ï¼"
        ];

        const treeHeight = 18; // æ ‘çš„é«˜åº¦
        const trunkWidth = 5; // æ ‘å¹²å®½åº¦

        function buildTree() {
            let treeHTML = "";
            let maxRowWidth = (2 * treeHeight - 1); // æœ€å®½è¡Œçš„å­—ç¬¦æ•°

            // é¡¶éƒ¨çš„æ˜Ÿæ˜Ÿï¼Œç¡®ä¿å±…ä¸­
            treeHTML += '<span class="star">' + ' '.repeat(Math.floor((maxRowWidth - 1) / 2)) + 'â˜…</span>\n';

            // æ ‘ä½“å±‚
            for (let i = 1; i <= treeHeight; i++) {
                let rowChars = [];
                let starsCount = 2 * i - 1; // å½“å‰è¡Œçš„å­—ç¬¦æ•°
                
                // å¡«å……å­—ç¬¦
                for (let j = 0; j < starsCount; j++) {
                    let rand = Math.random();
                    if (rand < 0.08) { // çº¢ç¯
                        rowChars.push('<span class="light" style="color:#f00;">â—</span>');
                    } else if (rand < 0.16) { // è“ç¯
                        rowChars.push('<span class="light" style="color:#00f;">â—†</span>');
                    } else if (rand < 0.24) { // é»„ç¯
                        rowChars.push('<span class="light" style="color:#ff0;">â–²</span>');
                    } else if (rand < 0.3) { // 3Dæ„Ÿç™½ç‚¹
                        rowChars.push('<span class="light" style="color:white; opacity:' + (0.5 + Math.random() * 0.5) + ';">*</span>');
                    }
                    else { // æ™®é€šå¶å­
                        rowChars.push("*");
                    }
                }
                treeHTML += rowChars.join('') + "\n";
            }

            // æ ‘æ ¹ (å±…ä¸­)
            const trunkOffset = Math.floor((maxRowWidth - trunkWidth) / 2);
            for (let i = 0; i < 3; i++) { // 3å±‚æ ‘å¹²
                treeHTML += ' '.repeat(trunkOffset) + '|||'.padEnd(trunkWidth, '|') + '\n';
            }

            treeContainer.innerHTML = treeHTML;
            // éšæœºæ·»åŠ é—ªçƒå’Œæ¸å˜æ•ˆæœ
            document.querySelectorAll('#tree-wrapper .light').forEach(light => {
                if (Math.random() > 0.6) light.classList.add('blink');
                else if (Math.random() > 0.6) light.classList.add('fade');
            });
        }

        // éšæœºç¥ç¦è¯­
        function showRandomWish() {
            greetingDisplay.innerText = wishes[Math.floor(Math.random() * wishes.length)];
        }

        // é›ªèŠ±ç‰¹æ•ˆ
        function createSnow() {
            const snow = document.createElement('div');
            snow.innerHTML = "â„";
            snow.className = "snowflake";
            snow.style.left = Math.random() * 100 + "vw";
            snow.style.animationDuration = Math.random() * 3 + 2 + "s"; // 2-5ç§’
            snow.style.animationDelay = Math.random() * 2 + "s"; // å»¶è¿Ÿå‡ºç°
            snow.style.opacity = Math.random() * 0.7 + 0.3; // é€æ˜åº¦
            snow.style.fontSize = Math.random() * 0.7 + 0.8 + "em"; // å¤§å°
            snow.style.setProperty('--end-x', (Math.random() * 40 - 20) + 'vw'); // å·¦å³é£˜åŠ¨
            document.body.appendChild(snow);
            setTimeout(() => snow.remove(), 5000);
        }

        // åˆå§‹åŠ è½½å’Œå¾ªç¯
        showRandomWish();
        buildTree();
        setInterval(buildTree, 1000); // æ¯ç§’é‡ç»˜æ ‘ï¼Œç¯å…‰éšæœºå˜åŒ–
        setInterval(createSnow, 300); // æŒç»­ä¸‹é›ª

    </script>
</body>
</html>
